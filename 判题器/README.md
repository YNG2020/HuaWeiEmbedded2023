# 判题器

## 1.使用

将 Judger.exe 放在与解题程序可执行文件相同路径下，打开命令行输入 Judger.exe 查看运行方法。  

> 也可以将可执行文件的名字写入到 quick_run_judger.bat 中快速运行。

## 2.输入

因为没有实现判题器与解题程序的双向通信，所以需要输入两次测试用例，一次输入给判题器，一次输入给解题程序，判题器单向接收解题程序的输出进行判题。  

由于在完成第一次输入后，判题器就会开始计时并调起解题程序进程，第二次给解题程序输入测试用例的时间也会被计入，所以如果需要测试运行时间建议提前按照如下方法处理测试用例，以减少第二次手动输入所占的时间。  

原始测试用例如下：

```
7 10 10 4 6
0 1 5
0 2 3
1 3 1
1 4 2
2 3 5
2 3 4
2 5 6
3 6 3
5 6 2
5 6 5
0 6
2 4
2 4
2 4
2 4
2 4
2 4
2 4
2 4
2 4
```

在进行输入之前，将测试用例粘贴两份，并在最后加上一个回车，然后全选复制，粘贴到命令行窗口。用于输入的测试用例如下：

```
7 10 10 4 6
0 1 5
0 2 3
1 3 1
1 4 2
2 3 5
2 3 4
2 5 6
3 6 3
5 6 2
5 6 5
0 6
2 4
2 4
2 4
2 4
2 4
2 4
2 4
2 4
2 4
7 10 10 4 6
0 1 5
0 2 3
1 3 1
1 4 2
2 3 5
2 3 4
2 5 6
3 6 3
5 6 2
5 6 5
0 6
2 4
2 4
2 4
2 4
2 4
2 4
2 4
2 4
2 4

```

可见最后有一个回车换行，有这个回车换行才能自动完成数据输入。

> 判题器测出的程序运行时间 = 测试用例输入时间 + 运行时间 + 结果输出时间。通过以上方法可避免手动输入导致的输入时间过长，结果输出时间受判题器接收速度影响，所以总的来说测量出的程序运行时间会略微偏长一点，但以秒为单位影响不大。

## 3.输出

判题器除了能测量程序运行时间与结果所需成本外，还能识别以下错误：

1. 超过加边限制
2. 点编号非法
3. 边编号非法
4. 通道编号非法
5. 路径边数非法
6. 路径放大器数非法
7. 新增边非法
8. 路径不连续
9. 放大器不在路径上
10. 光信号未及时放大
11. 通道冲突

以上类型的错误判题器会同时返回较为详细的错误信息，辅助定位问题。  

### 特殊错误情况

若出现判题器长时间不出结果，除了有可能是解题程序运行时间过长、陷入死循环外，还有可能是输出结果内容数量少了（如先声明路径为3条边但是输出不足3条边）导致判题器无法完成读取而卡住，如果输出结果内容数量多了就会导致读取输出内容错位，可能无法正常完成读取而卡住，也有可能完成读取但随机报错。

> 目前错误判断并不是很完善，有可能会出现有不明错误但不报错的情况。

